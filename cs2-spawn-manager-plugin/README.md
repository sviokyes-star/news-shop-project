# CS2 Spawn Manager Plugin

Плагин для Counter-Strike 2, позволяющий изменять точки спавна игроков на картах.

## Возможности

- ✅ Установка кастомных спавнов для CT команды
- ✅ Установка кастомных спавнов для T команды
- ✅ Сохранение позиции и угла поворота игрока
- ✅ Автоматическая телепортация при спавне
- ✅ Случайный выбор из доступных точек спавна
- ✅ Сохранение конфигурации в JSON файл
- ✅ Поддержка нескольких карт одновременно

## Команды (только для администраторов)

| Команда | Описание |
|---------|----------|
| `css_setctspawn` | Добавить точку спавна для CT в текущей позиции |
| `css_settspawn` | Добавить точку спавна для T в текущей позиции |
| `css_clearctspawns` | Удалить все CT спавны на текущей карте |
| `css_cleartspawns` | Удалить все T спавны на текущей карте |
| `css_listspawns` | Показать количество спавнов на карте |

## Установка

1. Соберите плагин:
   ```bash
   build.bat
   ```

2. Скопируйте файл `bin/Release/net8.0/SpawnManagerPlugin.dll` в папку:
   ```
   game/csgo/addons/counterstrikesharp/plugins/SpawnManagerPlugin/
   ```

3. Перезапустите сервер или выполните:
   ```
   css_plugins reload
   ```

## Как использовать

### Настройка спавнов:

1. Зайдите на карту как администратор
2. Встаньте в нужное место и посмотрите в нужном направлении
3. Выполните команду:
   - `css_setctspawn` для добавления CT спавна
   - `css_settspawn` для добавления T спавна
4. Повторите для всех нужных точек спавна
5. Спавны сохраняются автоматически в `spawns.json`

### Проверка настроек:

```
css_listspawns
```

Покажет количество CT и T спавнов на текущей карте.

### Удаление спавнов:

```
css_clearctspawns   # Удалить все CT спавны
css_cleartspawns    # Удалить все T спавны
```

## Как работает

1. При спавне игрока плагин проверяет его команду (CT/T)
2. Выбирает случайную точку из сохранённых для этой команды
3. Телепортирует игрока в эту точку с сохранённым углом поворота
4. Если кастомных спавнов нет — используются стандартные

## Файл конфигурации

Спавны сохраняются в файл `spawns.json`:

```json
{
  "de_dust2": {
    "CTSpawns": [
      {
        "Position": { "X": 1234.5, "Y": 6789.0, "Z": 100.0 },
        "Angle": { "Pitch": 0.0, "Yaw": 90.0, "Roll": 0.0 }
      }
    ],
    "TSpawns": [
      {
        "Position": { "X": 5432.1, "Y": 9876.5, "Z": 120.0 },
        "Angle": { "Pitch": 0.0, "Yaw": 270.0, "Roll": 0.0 }
      }
    ]
  }
}
```

## Требования

- CounterStrikeSharp
- .NET 8.0
- Права администратора (@css/root) для настройки спавнов

## Применение

- **Aim карты** — спавны лицом к лицу
- **1v1 арены** — фиксированные позиции
- **Fun карты** — кастомные точки старта
- **Retake серверы** — оптимизация позиций команд
