# CS2 No Suicide Kick Plugin

Плагин для Counter-Strike 2, который предотвращает автоматический кик игроков за самоубийства.

## Проблема

По умолчанию в CS2 игрока автоматически кикает с сервера после определённого количества самоубийств (обычно 3-5). Это неудобно на:
- **Surf серверах** (падения с карты)
- **Bhop серверах** (частые рестарты)
- **Deathrun серверах** (множество попыток)
- **Practice серверах** (тренировки с рестартами)
- **Fun серверах** (экспериментальный геймплей)

## Решение

Плагин отключает автоматический кик за самоубийства, позволяя игрокам свободно использовать команду `kill` без риска быть выкинутым с сервера.

## Возможности

- ✅ Отключает автокик за самоубийства (`mp_autokick`)
- ✅ Ведёт статистику самоубийств каждого игрока
- ✅ Позволяет просматривать счётчик самоубийств
- ✅ Позволяет сбрасывать счётчик вручную
- ✅ Автоматически очищает данные при отключении игрока
- ✅ Логирует все самоубийства в консоль сервера

## Команды

### Для всех игроков:

| Команда | Описание |
|---------|----------|
| `css_suicide_stats` | Показать свою статистику самоубийств |

### Для администраторов:

| Команда | Описание | Использование |
|---------|----------|---------------|
| `css_reset_suicides` | Сбросить счётчик самоубийств | `css_reset_suicides [имя игрока]` |

## Установка

1. Соберите плагин:
   ```bash
   build.bat
   ```

2. Скопируйте файл `bin/Release/net8.0/NoSuicideKickPlugin.dll` в папку:
   ```
   game/csgo/addons/counterstrikesharp/plugins/NoSuicideKickPlugin/
   ```

3. Перезапустите сервер или выполните:
   ```
   css_plugins reload
   ```

## Примеры использования

### Проверить свою статистику:
```
css_suicide_stats
```
Вывод: `Ваши самоубийства: 15`

### Сбросить свой счётчик:
```
css_reset_suicides
```
Обнуляет ваш счётчик самоубийств.

### Сбросить счётчик игрока (только админы):
```
css_reset_suicides Player123
```
Обнуляет счётчик игрока с ником, содержащим "Player123".

### Просмотр всей статистики (в консоли сервера):
```
css_suicide_stats
```
Показывает количество самоубийств всех игроков.

## Как работает

1. **При загрузке плагина:**
   - Автоматически отключает `mp_autokick` (автокик за самоубийства)
   - Инициализирует систему отслеживания статистики

2. **При смерти игрока:**
   - Проверяет, является ли смерть самоубийством (killer == victim)
   - Увеличивает счётчик для этого игрока
   - Логирует событие в консоль сервера

3. **При подключении игрока:**
   - Инициализирует счётчик для нового игрока

4. **При отключении игрока:**
   - Удаляет данные игрока для освобождения памяти

## Технические детали

### Что считается самоубийством:
- Команда `kill` / `explode` в консоли
- Падение с высоты (fall damage)
- Урон от гранат себе
- Любая смерть, где атакующий == жертва

### Что НЕ считается самоубийством:
- Убийство союзником (teamkill)
- Убийство врагом
- Смерть от окружения (если нет атакующего)

## Логи

Плагин записывает в консоль сервера:
```
[No Suicide Kick] mp_autokick отключен
[No Suicide Kick] Player123 совершил самоубийство (всего: 3)
[No Suicide Kick] Счётчик самоубийств для Player456 сброшен
```

## Совместимость

Плагин совместим с:
- ✅ Surf плагинами
- ✅ Bhop плагинами  
- ✅ Timer плагинами
- ✅ Respawn плагинами
- ✅ Practice mode плагинами

## Применение

Идеально подходит для:
- **Surf серверов** — игроки часто падают, изучая карту
- **Bhop серверов** — множество рестартов для перфектных забегов
- **Deathrun серверов** — сотни попыток прохождения
- **KZ серверов** — практика сложных прыжков
- **Practice серверов** — отработка тактик и гранат
- **Fun серверов** — свобода экспериментов

## Требования

- CounterStrikeSharp
- .NET 8.0

## Дополнительная информация

### Серверные конвары (автоматически настраиваются):
- `mp_autokick 0` — отключает автокик

Плагин автоматически применяет эти настройки при загрузке!
